{% extends "base.html" %}
{% load static %}

{% block title %}Careers{% endblock %}

{% block extra_css %}
<style>
    /* Careers Page Styles */
:root {
    --primary-color: #2a5298;
    --secondary-color: #1e1e1c;
    --accent-color: #f5f5f5;
    --text-color: #2d2f31;
    --white: #ffffff;
}

/* Careers Hero Section */
.careers-hero {
    margin-top: 70px;
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
        url('/static/images/photo.avif') center/cover;
    color: var(--white);
    padding: 8rem 0;
    text-align: center;
}

.careers-hero h1 {
    font-size: 3.5rem;
    margin-bottom: 1.5rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.careers-hero p {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.view-positions-btn {
    padding: 1rem 2.5rem;
    background: var(--primary-color);
    color: var(--white);
    border: none;
    border-radius: 4px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

/* Mission Section */
.mission-section {
    padding: 5rem 0;
    background: var(--white);
}

.mission-image {
    width: 100%;
    border-radius: 8px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    margin-top: 2rem;
}

.stat-item {
    text-align: center;
}

.stat-item h3 {
    color: var(--primary-color);
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

/* Values Section */
.values-section {
    padding: 5rem 0;
    background: var(--accent-color);
}

.value-card {
    background: var(--white);
    padding: 2rem;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 2rem;
    height: 100%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.value-card i {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin-bottom: 1rem;
}

/* Benefits Section */
.benefits-section {
    padding: 5rem 0;
    background: var(--white);
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.benefit-card {
    background: var(--accent-color);
    padding: 2rem;
    border-radius: 8px;
    text-align: center;
}

.benefit-card i {
    font-size: 2rem;
    color: var(--primary-color);
    margin-bottom: 1rem;
}

/* Open Positions */
.open-positions {
    padding: 5rem 0;
    background: var(--accent-color);
}

.departments-filter {
    margin: 2rem 0;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.dept-btn {
    padding: 0.5rem 1.5rem;
    border: 1px solid #ddd;
    border-radius: 25px;
    background: var(--white);
    cursor: pointer;
    transition: all 0.3s ease;
}

.dept-btn.active {
    background: var(--primary-color);
    color: var(--white);
    border-color: var(--primary-color);
}

.position-card {
    background: var(--white);
    padding: 1.5rem;
    border-radius: 8px;
    margin-bottom: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: transform 0.3s ease;
}

.position-card:hover {
    transform: translateX(10px);
}

.position-info h3 {
    margin-bottom: 0.5rem;
}

.position-info p {
    color: #666;
    margin: 0;
}

.apply-btn {
    padding: 0.75rem 1.5rem;
    background: var(--primary-color);
    color: var(--white);
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.apply-btn:hover {
    background-color: #1e4080;
}

/* Application Form Styles */
.application-form-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    overflow-y: auto;
    padding: 20px;
}

.application-form {
    background: var(--white);
    width: 100%;
    max-width: 600px;
    border-radius: 8px;
    padding: 2rem;
    max-height: 80vh;
    overflow-y: auto;
}

.form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid #eee;
    padding-bottom: 1rem;
}

.form-header h2 {
    margin: 0;
    color: var(--primary-color);
}

.close-form {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.form-group textarea {
    resize: vertical;
}

.submit-application {
    padding: 1rem 2rem;
    background: var(--primary-color);
    color: var(--white);
    border: none;
    border-radius: 4px;
    font-size: 1.1rem;
    cursor: pointer;
    width: 100%;
    transition: background-color 0.3s ease;
}

.submit-application:hover {
    background-color: #1e4080;
}

/* Responsive Design */
@media (max-width: 768px) {
    .careers-hero h1 {
        font-size: 2.5rem;
    }

    .stats-grid {
        grid-template-columns: repeat(1, 1fr);
        gap: 1rem;
    }

    .departments-filter {
        flex-direction: column;
    }

    .position-card {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .application-form {
        padding: 1.5rem;
    }
}
</style>
{% endblock %}

{% block main_block %}
<section class="careers-hero" style="background-image: url('{% static 'images/photo.avif'%}');">
    <div class="container">
        <div class="hero-content">
            <h1>Join us in transforming lives through learning</h1>
            <p>Help us build the future of technical education and make a real impact on millions of learners worldwide.</p>
            <a href="#open-positions"><button class="view-positions-btn">View Open Positions</button></a>
        </div>
    </div>
</section>

<section class="mission-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="{% static 'images/image.png' %}" alt="Our Mission" class="mission-image">
            </div>
            <div class="col-md-6">
                <h2>Our Mission</h2>
                <p>At TechTrek, we're committed to transforming the way people learn technology. We believe that everyone should have access to quality technical education, and we're building the platform to make that possible.</p>
                <div class="stats-grid">
                    <div class="stat-item">
                        <h3>1M+</h3>
                        <p>Students Worldwide</p>
                    </div>
                    <div class="stat-item">
                        <h3>5000+</h3>
                        <p>Courses</p>
                    </div>
                    <div class="stat-item">
                        <h3>100+</h3>
                        <p>Countries</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="values-section">
    <div class="container">
        <h2>Our Values</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="value-card">
                    <i class="fas fa-star"></i>
                    <h3>Innovation First</h3>
                    <p>We push boundaries and embrace new technologies to provide the best learning experience.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="value-card">
                    <i class="fas fa-users"></i>
                    <h3>Student Success</h3>
                    <p>Everything we do is focused on helping our students achieve their learning goals.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="value-card">
                    <i class="fas fa-globe"></i>
                    <h3>Global Impact</h3>
                    <p>We're building a diverse, inclusive platform that reaches learners worldwide.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="benefits-section">
    <div class="container">
        <h2>Why Join TechTrek?</h2>
        <div class="benefits-grid">
            <div class="benefit-card">
                <i class="fas fa-laptop-code"></i>
                <h3>Remote-First Culture</h3>
                <p>Work from anywhere in the world with our flexible remote policy.</p>
            </div>
            <div class="benefit-card">
                <i class="fas fa-graduation-cap"></i>
                <h3>Learning & Development</h3>
                <p>Access to all courses and dedicated learning time.</p>
            </div>
            <div class="benefit-card">
                <i class="fas fa-heart"></i>
                <h3>Health & Wellness</h3>
                <p>Comprehensive health coverage and wellness programs.</p>
            </div>
            <div class="benefit-card">
                <i class="fas fa-calendar"></i>
                <h3>Flexible Time Off</h3>
                <p>Unlimited PTO and flexible working hours.</p>
            </div>
        </div>
    </div>
</section>

<section class="open-positions" id="open-positions">
    <div class="container">
        <h2>Open Positions</h2>
        <div class="departments-filter">
            <button class="dept-btn active">All Departments</button>
            <button class="dept-btn">Engineering</button>
            <button class="dept-btn">Product</button>
            <button class="dept-btn">Design</button>
        </div>
        <div class="positions-list">
            <div class="position-card">
                <div class="position-info">
                    <h3>Senior Full Stack Developer</h3>
                    <p>Engineering • Remote</p>
                </div>
                <button class="apply-btn" onclick="showApplicationForm('dev-application')">Apply Now</button>
            </div>
            <div class="position-card">
                <div class="position-info">
                    <h3>Product Manager</h3>
                    <p>Product • Remote</p>
                </div>
                <button class="apply-btn" onclick="showApplicationForm('pm-application')">Apply Now</button>
            </div>
            <div class="position-card">
                <div class="position-info">
                    <h3>UX Designer</h3>
                    <p>Design • Remote</p>
                </div>
                <button class="apply-btn" onclick="showApplicationForm('ux-application')">Apply Now</button>
            </div>
        </div>
    </div>
</section>

<!-- Application Forms (Initially Hidden) -->
<div id="dev-application" class="application-form-container">
    <div class="application-form">
        <div class="form-header">
            <h2>Apply for Senior Full Stack Developer</h2>
            <button class="close-form" onclick="hideApplicationForm('dev-application')"><i class="fas fa-times"></i></button>
        </div>
        <form action="{% url 'careers:submit_application' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="position" value="Senior Full Stack Developer">
            
            <div class="form-group">
                <label for="dev-name">Full Name</label>
                <input type="text" id="dev-name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="dev-email">Email Address</label>
                <input type="email" id="dev-email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="dev-phone">Phone Number</label>
                <input type="tel" id="dev-phone" name="phone">
            </div>
            
            <div class="form-group">
                <label for="dev-experience">Years of Experience</label>
                <select id="dev-experience" name="experience" required>
                    <option value="">Select experience</option>
                    <option value="1-2">1-2 years</option>
                    <option value="3-5">3-5 years</option>
                    <option value="5+">5+ years</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="dev-resume">Upload Resume (PDF)</label>
                <input type="file" id="dev-resume" name="resume" accept=".pdf" required>
            </div>
            
            <div class="form-group">
                <label for="dev-portfolio">Portfolio/GitHub URL</label>
                <input type="url" id="dev-portfolio" name="portfolio">
            </div>
            
            <div class="form-group">
                <label for="dev-cover">Cover Letter</label>
                <textarea id="dev-cover" name="cover_letter" rows="5"></textarea>
            </div>
            
            <button type="submit" class="submit-application">Submit Application</button>
        </form>
    </div>
</div>

<div id="pm-application" class="application-form-container">
    <div class="application-form">
        <div class="form-header">
            <h2>Apply for Product Manager</h2>
            <button class="close-form" onclick="hideApplicationForm('pm-application')"><i class="fas fa-times"></i></button>
        </div>
        <form action="{% url 'careers:submit_application' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="position" value="Product Manager">
            
            <div class="form-group">
                <label for="pm-name">Full Name</label>
                <input type="text" id="pm-name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="pm-email">Email Address</label>
                <input type="email" id="pm-email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="pm-phone">Phone Number</label>
                <input type="tel" id="pm-phone" name="phone">
            </div>
            
            <div class="form-group">
                <label for="pm-experience">Years of Experience</label>
                <select id="pm-experience" name="experience" required>
                    <option value="">Select experience</option>
                    <option value="1-2">1-2 years</option>
                    <option value="3-5">3-5 years</option>
                    <option value="5+">5+ years</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="pm-resume">Upload Resume (PDF)</label>
                <input type="file" id="pm-resume" name="resume" accept=".pdf" required>
            </div>
            
            <div class="form-group">
                <label for="pm-portfolio">Portfolio URL</label>
                <input type="url" id="pm-portfolio" name="portfolio">
            </div>
            
            <div class="form-group">
                <label for="pm-cover">Cover Letter</label>
                <textarea id="pm-cover" name="cover_letter" rows="5"></textarea>
            </div>
            
            <button type="submit" class="submit-application">Submit Application</button>
        </form>
    </div>
</div>

<div id="ux-application" class="application-form-container">
    <div class="application-form">
        <div class="form-header">
            <h2>Apply for UX Designer</h2>
            <button class="close-form" onclick="hideApplicationForm('ux-application')"><i class="fas fa-times"></i></button>
        </div>
        <form action="{% url 'careers:submit_application' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="position" value="UX Designer">
            
            <div class="form-group">
                <label for="ux-name">Full Name</label>
                <input type="text" id="ux-name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="ux-email">Email Address</label>
                <input type="email" id="ux-email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="ux-phone">Phone Number</label>
                <input type="tel" id="ux-phone" name="phone">
            </div>
            
            <div class="form-group">
                <label for="ux-experience">Years of Experience</label>
                <select id="ux-experience" name="experience" required>
                    <option value="">Select experience</option>
                    <option value="1-2">1-2 years</option>
                    <option value="3-5">3-5 years</option>
                    <option value="5+">5+ years</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="ux-resume">Upload Resume (PDF)</label>
                <input type="file" id="ux-resume" name="resume" accept=".pdf" required>
            </div>
            
            <div class="form-group">
                <label for="ux-portfolio">Portfolio URL</label>
                <input type="url" id="ux-portfolio" name="portfolio" required>
            </div>
            
            <div class="form-group">
                <label for="ux-cover">Cover Letter</label>
                <textarea id="ux-cover" name="cover_letter" rows="5"></textarea>
            </div>
            
            <button type="submit" class="submit-application">Submit Application</button>
        </form>
    </div>
</div>

<!-- JavaScript for form toggle -->
<script>
    function showApplicationForm(formId) {
        document.getElementById(formId).style.display = 'flex';
        document.body.style.overflow = 'hidden'; // Prevent scrolling when form is open
    }
    
    function hideApplicationForm(formId) {
        document.getElementById(formId).style.display = 'none';
        document.body.style.overflow = 'auto'; // Re-enable scrolling
    }
    
    // Filter functionality for departments
    // Filter functionality for departments
const deptButtons = document.querySelectorAll('.dept-btn');
const positionCards = document.querySelectorAll('.position-card');

deptButtons.forEach(button => {
    button.addEventListener('click', function() {
        // Update active button styling
        deptButtons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        
        // Get the selected department
        const selectedDept = this.textContent.trim();
        
        // Filter positions based on department
        positionCards.forEach(card => {
            const positionDept = card.querySelector('.position-info p').textContent.split('•')[0].trim();
            
            if (selectedDept === 'All Departments' || positionDept === selectedDept) {
                card.style.display = 'flex';
            } else {
                card.style.display = 'none';
            }
        });
    });
});
</script>
{% endblock %}